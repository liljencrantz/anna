
type Foo
{
    def numGetter()
    {
        var i=0;
        return def (){i++}
    }
    
    var def Int () num (property(numGetter));

}

def main()
{
    var foo = Foo();
    /* Every time we access foo.num, a new closure is created, with a new counter. All these calls should therefore return 1 */
    print(foo.num(), "\n");
    print(foo.num(), "\n");
    print(foo.num(), "\n");

    var bar = foo.num;
    /* Every time we access bar, the same closure is used, with the same counter. These calls will therefore count up. */
    print(bar(), "\n");
    print(bar(), "\n");
    print(bar(), "\n");
}