/*
  Test the switch expression
*/
def main()
{
    /*
      Switch containing Int:s
     */
    (0..10).each(foo)
    {
	switch(foo)
	{
	    case(2,4,6,8)
	    {
		print("Even\n");
	    }

	    case(7)
	    {
		print("Seven\n");
	    }

	    cases(1..5|2)
	    {
		print("Odd\n");
	    }
	    
	    default
	    {
		print("Whatever\n");
	    }
	}
    }

    /*
      Switch containing strings
    */
    ["abc", "a", "aa", ?, "bbb"].each(bar)
    {
	switch(bar)
	{
	    case("abc")
	    {
		print("abc\n");
	    }

	    case("b", "bb", "bbb")
	    {
		print("Bunch of b:s\n");
	    }
	    
	    cases(["a":?, "o":?, "u":?, "e":?, "i":?, "y":?])
	    {
		print("Vowel\n");
	    }
	    
	    default
	    {
		print("Don't righly know\n");
	    }
	}
    }

    [3, 4.0, "foo", 'g'].each(item)
    {
	switch(item)
	{
	    case(i as Int)
	    {
		print("It is an Int, its square is ", i*i, "\n");
	    }

	    case(f as Float)
	    {
		print("It is a Float, its square root is ", math.sqrt(f), "\n");
	    }

	    case(s as String)
	    {
		print("It is a String, its length is ", s.count, "\n");
	    }
	    
	    default
	    {
		print("Don't know, don't care\n");
	    }
	}
    }

}
