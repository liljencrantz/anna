attribute(
    doc(
	"HTML tools and utilities"));

def escape(String str...)
(
    doc("Perform HTML escaping of the specified string.")
)
{
    res := "".thaw;
    "".join(str).each(ch)
    {
	res ~= switch(ch)
	{
	    case('<')
	    {
		"&lt;";
	    }
	    case('&')
	    {
		"&amp;";
	    }
	    case('>')
	    {
		"&gt;";
	    }
	    default
	    {
		ch;
	    }
	}
    };
    res.freeze;
}
